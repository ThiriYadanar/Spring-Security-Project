<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.security.mapper.UserMapper">
	<resultMap id="User" type="com.spring.security.entity.User">
		<result property="id" column="id" />
		<result property="username" column="user_name" />
		<result property="password" column="password" />
		<result property="role" column="role" />
	</resultMap>
	<select id="findByUsername" parameterType="java.lang.String"
		resultMap="User">
		select
		id, user_name, password,role
		from User
		<where>
			<if test=" username != null and username != '' "> AND user_name = #{username} </if>
		</where>
	</select>

	<insert id="saveUser"
		parameterType="com.spring.security.entity.User"
		useGeneratedKeys="true" keyProperty="user.id"> INSERT INTO user (user_name, password, role ) VALUES (
		 #{user.user_name}, #{user.password}, #{user.role} ) 
	</insert>

</mapper>

  